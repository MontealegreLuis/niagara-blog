<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Posts fragments</title>
</head>
<body>
<th:block th:fragment="form(label)">
    <div class="form-group">
        <label for="title">Title</label>
        <input id="title" class="form-control" autofocus="autofocus" th:field="*{title}"/>
        <div th:replace="fragments/common :: error(
            condition=${#fields.hasErrors('title')},
            type='danger',
            messages = ${#fields.errors('__title__')}
        )"></div>
    </div>
    <div class="form-group">
        <label for="body">Body</label>
        <textarea id="body" class="form-control" th:field="*{body}"></textarea>
        <div th:replace="fragments/common :: error(
            condition=${#fields.hasErrors('body')},
            type='danger',
            messages = ${#fields.errors('__body__')}
        )"></div>
    </div>
    <div class="form-group">
        <label for="image">Upload an image!</label>
        <input id="image" name="image_file" type="file"/>
    </div>
    <input class="btn btn-primary" type="submit" th:attr="value=${label}"/>
</th:block>
</body>
</html>
